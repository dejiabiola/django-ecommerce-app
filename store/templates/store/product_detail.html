{% extends 'store/base.html' %}
{% load static %}

{%block title%}<title>{{product.name}}</title>{% endblock %}

{% block content %}
<div class="mt-5 d-flex flex-column align-items-center">
  <img src="{{product.image_url}}" alt="{{product.name}}">
  <p class="mt-3">{{product.name}}</p>
  <p>Price: Â£{{product.price}}</p>
  <form action="/product/buy/" method="POST" class="d-flex">
    {% csrf_token %}
    <input type='hidden' name='id' value="{{ product.id }}">
    <div>
      <label for="quantity">Enter quantity: </label>
      <input type="number" name="quantity" id="quantity">
    </div>
    <input type="submit" value="Add to Basket">
  </form>

  {% if request.user.is_staff or request.user.is_superuser %}
  <p><a href="{% url 'product_edit' id=product.id %}">Edit Product</a></p>
  <p><a href="{% url 'product_delete' id=product.id %}">Delete the product</a></p>
  {% endif %}
</div>

{% endblock %}